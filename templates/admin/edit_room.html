{% extends "base.html" %}

{% block title %}Edit Room{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/edit_room.css') }}">
{% endblock %}

{% block content %}
<div class="edit-container">
    <div class="form-header">
        <h2>âœï¸ Edit Room Details</h2>
        <p>
            Room ID: <span class="info-badge">{{ room.room_id }}</span>
        </p>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="flash-message {{ category }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST">
        <div class="form-group">
            <label>ğŸ·ï¸ Room Type Name <span class="required">*</span></label>
            <input type="text" name="room_name" class="form-control"
                   value="{{ room.room_name }}" required>
            <div class="help-text">Enter the name/type of the room</div>
        </div>

        <div class="form-group">
            <label>ğŸ”¢ Number of Available Rooms <span class="required">*</span></label>
            <input type="number" name="room_count" class="form-control"
                   value="{{ room.room_count }}" min="0" required>
            <div class="help-text">Total number of rooms of this type</div>
        </div>

        <div class="form-group">
            <label>ğŸ’° Price per Night (Regular Season) <span class="required">*</span></label>
            <div class="input-group">
                <span class="input-prefix">Â£</span>
                <input type="number" name="price" class="form-control"
                       value="{{ room.price }}" step="0.01" min="0" required>
            </div>
            <div class="help-text">Regular season nightly rate (Jan-Mar, Sep-Oct)</div>
        </div>

        <div class="form-group">
            <label>ğŸ”¥ Price per Night (Peak Season) <span class="required">*</span></label>
            <div class="input-group">
                <span class="input-prefix">Â£</span>
                <input type="number" name="peak_season" class="form-control"
                       value="{{ room.peak_season }}" step="0.01" min="0" required>
            </div>
            <div class="help-text">Peak season nightly rate (Apr-Aug, Nov-Dec)</div>
        </div>

        <div class="form-group">
            <label>ğŸ“Š Room Status <span class="required">*</span></label>
            <select name="status" class="form-control">
                <option value="Available" {% if room.status == 'Available' %}selected{% endif %}>
                    âœ… Available
                </option>
                <option value="Booked" {% if room.status == 'Booked' %}selected{% endif %}>
                    ğŸ”´ Booked
                </option>
                <option value="Maintenance" {% if room.status == 'Maintenance' %}selected{% endif %}>
                    ğŸ”§ Maintenance
                </option>
            </select>
            <div class="help-text">Current room availability</div>
        </div>

        <div class="btn-group">
            <button type="submit" class="btn btn-primary">
                ğŸ’¾ Update Room Details
            </button>
            <a href="{{ url_for('view_hotel_rooms', hotel_id=room.hotel_id) }}"
               class="btn btn-secondary">
                â† Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}